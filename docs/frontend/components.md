# üé® Frontend - Componentes React

**Documentaci√≥n completa de la interfaz de usuario**

---

## üìã Informaci√≥n General

| Atributo | Valor |
|----------|-------|
| **Framework** | React 18 + TypeScript |
| **UI Library** | shadcn/ui + Tailwind CSS |
| **Meta Framework** | Inertia.js |
| **Ruta base** | `resources/js/` |
| **Build Tool** | Vite |

---

## üèóÔ∏è Arquitectura del Frontend

```mermaid
graph TD
    A[üé® Frontend React/TS] --> B[üì± P√°ginas P√∫blicas]
    A --> C[üîê P√°ginas Autenticadas]
    A --> D[üë®‚Äçüíº P√°ginas Admin]
    A --> E[üß© Componentes Compartidos]
    
    B --> F[Welcome]
    B --> G[Games]
    B --> H[Tournaments]
    
    C --> I[Registrations]
    C --> J[Dashboard User]
    
    D --> K[Admin Dashboard]
    D --> L[Admin Games]
    D --> M[Admin Tournaments]
    D --> N[Admin Payments]
    
    E --> O[UI Components]
    E --> P[Layouts]
    E --> Q[Forms]
    
    style B fill:#e8f5e8
    style C fill:#fff3e0
    style D fill:#ffcdd2
    style E fill:#e1f5fe
```

---

## üì± P√°ginas P√∫blicas

### üè† Welcome Page
**Archivo:** `resources/js/pages/welcome.tsx`

```typescript
interface WelcomeProps {
    featuredGames: Game[];
}

interface Game {
    id: number;
    name: string;
    slug: string;
    description: string;
    image: string;
    tournaments_count: number;
}
```

**Funcionalidad:**
- P√°gina principal de la aplicaci√≥n
- Muestra juegos destacados
- Cards responsive con informaci√≥n b√°sica
- Navegaci√≥n hacia exploraci√≥n de juegos

**Componentes utilizados:**
- `Button` (shadcn/ui)
- `Card` (shadcn/ui)
- `Link` (Inertia)

### üéÆ Games Pages

#### Lista de Juegos
**Archivo:** `resources/js/pages/Games/Index.tsx`

```typescript
interface GamesIndexProps {
    games: Game[];
}
```

**Funcionalidad:**
- Grid responsive de juegos
- Conteo de torneos por juego
- Navegaci√≥n hacia detalles

#### Detalles del Juego
**Archivo:** `resources/js/pages/Games/Show.tsx`

```typescript
interface GamesShowProps {
    game: Game;
    tournaments: Tournament[];
}

interface Tournament {
    id: number;
    name: string;
    description: string;
    tournament_date: string;
    registration_deadline: string;
    max_participants: number;
    entry_fee: number;
    registrations_count: number;
}
```

**Funcionalidad:**
- Informaci√≥n detallada del juego
- Lista de torneos del juego
- Botones de acci√≥n hacia inscripci√≥n

### üèÜ Tournaments Pages

#### Lista de Torneos
**Archivo:** `resources/js/pages/Tournaments/Index.tsx`

```typescript
interface TournamentsIndexProps {
    tournaments: Tournament[];
}
```

**Funcionalidad:**
- Lista completa de torneos
- Filtros por juego y fecha
- Informaci√≥n de capacidad

#### Detalles del Torneo
**Archivo:** `resources/js/pages/Tournaments/Show.tsx`

```typescript
interface TournamentsShowProps {
    tournament: Tournament & {
        game: Game;
        registrations: Registration[];
    };
}
```

**Funcionalidad:**
- Informaci√≥n completa del torneo
- Lista de participantes
- Formulario de inscripci√≥n (si autenticado)

---

## üîê P√°ginas Autenticadas

### üìù Registrations Page
**Archivo:** `resources/js/pages/Registrations/Index.tsx`

```typescript
interface RegistrationsIndexProps {
    registrations: Registration[];
}

interface Registration {
    id: number;
    status: 'pending' | 'confirmed' | 'cancelled';
    payment_status: 'pending' | 'confirmed' | 'failed';
    payment_method: 'cash' | 'transfer' | 'card';
    tournament: Tournament & {
        game: Game;
    };
    created_at: string;
}
```

**Funcionalidad:**
- Lista de inscripciones del usuario
- Estados visuales con badges
- Acciones de cancelaci√≥n
- Informaci√≥n de pagos

**Componentes utilizados:**
- `Table` (shadcn/ui)
- `Badge` (shadcn/ui)
- `Button` (shadcn/ui)
- `AlertDialog` (shadcn/ui)

---

## üë®‚Äçüíº P√°ginas Administrativas

### üìä Admin Dashboard
**Archivo:** `resources/js/pages/Admin/Dashboard.tsx`

```typescript
interface AdminDashboardProps {
    stats: {
        totalUsers: number;
        totalGames: number;
        totalTournaments: number;
        totalRegistrations: number;
        pendingPayments: number;
    };
    recentRegistrations: Registration[];
    upcomingTournaments: Tournament[];
}
```

**Funcionalidad:**
- Estad√≠sticas generales del sistema
- Inscripciones recientes
- Pr√≥ximos torneos
- Accesos r√°pidos a gesti√≥n

### üéÆ Admin Games

#### Lista de Juegos Admin
**Archivo:** `resources/js/pages/Admin/Games/Index.tsx`

```typescript
interface AdminGamesIndexProps {
    games: Game[];
}
```

**Funcionalidad:**
- CRUD completo de juegos
- Tabla con acciones
- B√∫squeda y filtros

#### Crear/Editar Juego
**Archivos:** 
- `resources/js/pages/Admin/Games/Create.tsx`
- `resources/js/pages/Admin/Games/Edit.tsx`

```typescript
interface GameFormProps {
    game?: Game; // Solo en Edit
}

interface GameFormData {
    name: string;
    description: string;
    image: string;
}
```

**Funcionalidad:**
- Formulario de creaci√≥n/edici√≥n
- Validaci√≥n en tiempo real
- Preview de imagen
- Generaci√≥n autom√°tica de slug

### üèÜ Admin Tournaments

#### Lista de Torneos Admin
**Archivo:** `resources/js/pages/Admin/Tournaments/Index.tsx`

```typescript
interface AdminTournamentsIndexProps {
    tournaments: Tournament[];
    games: Game[];
}
```

**Funcionalidad:**
- CRUD completo de torneos
- Filtros por juego y estado
- Gesti√≥n de capacidad

#### Crear Torneo
**Archivo:** `resources/js/pages/Admin/Tournaments/Create.tsx`

```typescript
interface TournamentFormData {
    name: string;
    description: string;
    game_id: number;
    tournament_date: string;
    registration_deadline: string;
    max_participants: number;
    entry_fee: number;
}
```

**Funcionalidad:**
- Formulario completo de torneo
- Selector de juego
- Validaci√≥n de fechas
- Configuraci√≥n de precios

### üí∞ Admin Payments
**Archivo:** `resources/js/pages/Admin/Payments/Index.tsx`

```typescript
interface AdminPaymentsProps {
    pendingPayments: Registration[];
}
```

**Funcionalidad:**
- Lista de pagos pendientes
- Filtros avanzados
- Confirmaci√≥n manual de pagos
- Historial de transacciones

---

## üß© Componentes Compartidos

### üì¶ UI Components (shadcn/ui)

```typescript
// Componentes principales utilizados
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table"
import { Badge } from "@/components/ui/badge"
import { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from "@/components/ui/alert-dialog"
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"
import { Textarea } from "@/components/ui/textarea"
```

### üé® Design System

#### üé® Colores por Estado

```css
/* Estados de inscripci√≥n */
.status-pending { @apply bg-yellow-100 text-yellow-800; }
.status-confirmed { @apply bg-green-100 text-green-800; }
.status-cancelled { @apply bg-red-100 text-red-800; }

/* Estados de pago */
.payment-pending { @apply bg-blue-100 text-blue-800; }
.payment-confirmed { @apply bg-green-100 text-green-800; }
.payment-failed { @apply bg-red-100 text-red-800; }
```

#### üì± Responsive Design

```css
/* Grid responsive para cards */
.games-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
}

/* Tabla responsive */
.responsive-table {
    @apply overflow-x-auto;
}

/* Navegaci√≥n m√≥vil */
.mobile-nav {
    @apply block md:hidden;
}
```

---

## üîÑ Flujo de Datos con Inertia

### üìä Diagrama de Flujo

```mermaid
graph LR
    A[üåê Request HTTP] --> B[üéõÔ∏è Controller Laravel]
    B --> C[üíæ Models/Database]
    C --> D[üìä Data Processing]
    D --> E[üì§ Inertia Response]
    E --> F[‚öõÔ∏è React Component]
    F --> G[üé® UI Render]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#fff3e0
    style F fill:#e8f5e8
```

### üìù Ejemplo de Integraci√≥n

```typescript
// En el componente React
interface Props {
    games: Game[];
    flash?: {
        success?: string;
        error?: string;
    };
}

export default function GamesIndex({ games, flash }: Props) {
    return (
        <AuthenticatedLayout>
            {flash?.success && (
                <Alert className="mb-4">
                    <AlertDescription>{flash.success}</AlertDescription>
                </Alert>
            )}
            
            <div className="games-grid">
                {games.map(game => (
                    <GameCard key={game.id} game={game} />
                ))}
            </div>
        </AuthenticatedLayout>
    );
}
```

---

## üì± Layouts

### üèóÔ∏è Authenticated Layout
**Archivo:** `resources/js/layouts/AuthenticatedLayout.tsx`

```typescript
interface AuthenticatedLayoutProps {
    children: React.ReactNode;
    header?: React.ReactNode;
}
```

**Funcionalidad:**
- Layout base para usuarios autenticados
- Navegaci√≥n principal
- Dropdown de usuario
- Responsive design

### üë®‚Äçüíº Admin Layout
**Archivo:** `resources/js/layouts/AdminLayout.tsx`

```typescript
interface AdminLayoutProps {
    children: React.ReactNode;
    title?: string;
}
```

**Funcionalidad:**
- Layout espec√≠fico para administradores
- Sidebar de navegaci√≥n admin
- Breadcrumbs
- Accesos r√°pidos

---

## üéØ Casos de Uso por Tipo de Usuario

### üë§ Usuario An√≥nimo

```mermaid
graph LR
    A[üåê Landing] --> B[Ver juegos]
    B --> C[Ver torneos]
    C --> D[Detalles torneo]
    D --> E[üîê Login para inscribirse]
```

### üîê Usuario Autenticado

```mermaid
graph LR
    A[üîê Dashboard] --> B[Mis inscripciones]
    B --> C[Explorar torneos]
    C --> D[Inscribirse]
    D --> E[Gestionar inscripciones]
```

### üë®‚Äçüíº Administrador

```mermaid
graph LR
    A[üë®‚Äçüíº Admin Dashboard] --> B[Gestionar juegos]
    A --> C[Gestionar torneos]
    A --> D[Ver inscripciones]
    A --> E[Confirmar pagos]
```

---

## üöÄ Optimizaciones de Performance

### ‚ö° Estrategias Implementadas

1. **Code Splitting**: Divisi√≥n autom√°tica por rutas
2. **Lazy Loading**: Carga bajo demanda de componentes
3. **Tree Shaking**: Eliminaci√≥n de c√≥digo no utilizado
4. **Bundle Optimization**: Optimizaci√≥n de Vite
5. **Image Optimization**: Lazy loading de im√°genes

### üìä Bundle Analysis

```bash
# Analizar el bundle
npm run build
npm run analyze

# Optimizar im√°genes
npm run optimize-images
```

---

## üîß Herramientas de Desarrollo

### üõ†Ô∏è Scripts Disponibles

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "type-check": "tsc --noEmit",
    "lint": "eslint resources/js --ext .ts,.tsx",
    "lint:fix": "eslint resources/js --ext .ts,.tsx --fix"
  }
}
```

### üîç Debugging

```typescript
// Debug props en desarrollo
if (import.meta.env.DEV) {
    console.log('Props received:', props);
}

// Error boundaries
class ErrorBoundary extends React.Component {
    componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
        console.error('Component error:', error, errorInfo);
    }
}
```

---

## üì± Responsive Design

### üìä Breakpoints

```css
/* Tailwind CSS breakpoints */
sm: 640px   /* M√≥vil grande */
md: 768px   /* Tablet */
lg: 1024px  /* Desktop peque√±o */
xl: 1280px  /* Desktop grande */
2xl: 1536px /* Desktop muy grande */
```

### üé® Componentes Responsive

```typescript
// Grid adaptable
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {/* Cards */}
</div>

// Navegaci√≥n responsive
<nav className="hidden md:flex space-x-4">
    {/* Desktop nav */}
</nav>
<MobileNav className="md:hidden" />
```

---

## üí° Mejores Pr√°cticas Implementadas

### ‚úÖ Caracter√≠sticas Destacadas

1. **TypeScript**: Tipado estricto para mayor seguridad
2. **Component Composition**: Reutilizaci√≥n de componentes
3. **Accessibility**: ARIA labels y navegaci√≥n por teclado
4. **Performance**: Optimizaciones de rendering
5. **UX**: Feedback visual y estados de carga
6. **Mobile First**: Dise√±o responsive desde m√≥vil

### üîß Patterns Utilizados

```typescript
// Custom hooks para l√≥gica reutilizable
const useFlashMessages = () => {
    const { flash } = usePage().props;
    return flash;
};

// Component patterns
const withAuth = (Component: React.ComponentType) => {
    return (props: any) => (
        <AuthenticatedLayout>
            <Component {...props} />
        </AuthenticatedLayout>
    );
};
```

---

## üîó Relaciones con Backend

```mermaid
graph TB
    A[React Components] --> B[Inertia.js]
    B --> C[Laravel Controllers]
    C --> D[Eloquent Models]
    D --> E[Database]
    
    F[Form Submissions] --> G[Form Requests]
    G --> H[Validation]
    H --> I[Controller Actions]
    
    style A fill:#e1f5fe
    style C fill:#f3e5f5
    style D fill:#fff3e0
    style E fill:#ffeb3b
```

---

## üìù Notas Importantes

> **üí° Tip**: Usar TypeScript interfaces para mantener consistencia entre frontend y backend.

> **üé® Design**: shadcn/ui proporciona componentes accesibles y personalizables.

> **‚ö° Performance**: Inertia.js elimina la necesidad de API REST, simplificando el desarrollo.

> **üì± Mobile**: Dise√±o mobile-first garantiza experiencia √≥ptima en todos los dispositivos.

---

## üîó Enlaces Relacionados

- [[User Interface Design]] - Gu√≠a de dise√±o de interfaz
- [[Component Library]] - Biblioteca de componentes
- [[API Integration]] - Integraci√≥n con backend
- [[Deployment Guide]] - Gu√≠a de despliegue
- [[Testing Frontend]] - Pruebas de frontend
